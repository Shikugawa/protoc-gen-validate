diff --git a/BUILD b/BUILD
index 480646f..7b3909f 100644
--- a/BUILD
+++ b/BUILD
@@ -77,6 +77,7 @@ cc_library(
     copts = select({
         ":windows": [],
         ":windows_msvc": [],
+        ":wasm": [],
         "//conditions:default": ["-pthread"],
     }),
     linkopts = select({
@@ -86,11 +87,17 @@ cc_library(
         ":darwin": [],
         ":windows": [],
         ":windows_msvc": [],
+        ":wasm": [],
         "//conditions:default": ["-pthread"],
     }),
     visibility = ["//visibility:public"],
 )
 
+config_setting(
+  name = "wasm",
+  values = {"cpu": "wasm"},
+)
+
 cc_library(
     name = "testing",
     testonly = 1,
